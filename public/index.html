<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Lista de Personajes</h1>
    <select id="character-list">
        <option disabled selected>Elige un personaje...</option>
    </select>
    

    <script>
        const characterList = document.getElementById('character-list');

        // Listado de Personajes
        // fetch('https://rickandmortyapi.com/api/character')
        //     .then(response => response.json())
        //     .then(characters => {
        //         console.log(characters);
        //         characters.results.forEach(character => insertCharacter(character));
        //     });

        loadCharacters();
        
        async function loadCharacters() {
            try {
                let response = await fetch('https://rickandmortyapi.com/api/character');
                if (!response.ok) {
                    throw new Error('Error en la red');
                }
                let characters = await response.json();
                characters.results.forEach(character => insertCharacter(character));
            } catch (error) {
                console.log('Error en loadCharacters: ' , error);
            }
        }

            function insertCharacter(character) {
                const option = document.createElement('option');
                console.log(character);
                option.textContent = `${character.name}`;
                option.value = character.id
                characterList.append(option);
            }


        // Listado de capitulos que aparece un personaje

    </script>
</body>
</html>